import{a4 as E,a5 as g,u as I,a as w,h as x,r as l,A as h,B as b}from"./index-z1XCOSyM.js";function V(e){e.values.forEach(t=>t.stop())}function p(e,t){[...t].reverse().forEach(r=>{const n=e.getVariant(r);n&&g(e,n),e.variantChildren&&e.variantChildren.forEach(o=>{p(o,t)})})}function C(e,t){if(Array.isArray(t))return p(e,t);if(typeof t=="string")return p(e,[t]);g(e,t)}function y(){const e=new Set,t={subscribe(s){return e.add(s),()=>void e.delete(s)},start(s,r){const n=[];return e.forEach(o=>{n.push(E(o,s,{transitionOverride:r}))}),Promise.all(n)},set(s){return e.forEach(r=>{C(r,s)})},stop(){e.forEach(s=>{V(s)})},mount(){return()=>{t.stop()}}};return t}function A(){const e=I(y);return w(e.mount,[]),e}const m=A,F={some:0,all:1};function R(e,t,{root:s,margin:r,amount:n="some"}={}){const o=x(e),i=new WeakMap,f=c=>{c.forEach(u=>{const d=i.get(u.target);if(u.isIntersecting!==!!d)if(u.isIntersecting){const v=t(u.target,u);typeof v=="function"?i.set(u.target,v):a.unobserve(u.target)}else typeof d=="function"&&(d(u),i.delete(u.target))})},a=new IntersectionObserver(f,{root:s,rootMargin:r,threshold:typeof n=="number"?n:F[n]});return o.forEach(c=>a.observe(c)),()=>a.disconnect()}function j(e,{root:t,margin:s,amount:r,once:n=!1,initial:o=!1}={}){const[i,f]=l.useState(o);return l.useEffect(()=>{if(!e.current||n&&i)return;const a=()=>(f(!0),n?void 0:()=>f(!1)),c={root:t&&t.current||void 0,margin:s,amount:r};return R(e.current,a,c)},[t,e,s,n,r]),i}function B({children:e,slide:t=!1,duration:s=.5,vertical:r=!0,slideBackground:n="#FFFFFF",viewAmount:o=.5}){const i=l.useRef(null),f=j(i,{once:!0,amount:o}),a=m(),c=m();return l.useEffect(()=>{f&&(a.start("visible"),c.start("visible"))},[f,a,c]),h.jsxs("div",{ref:i,className:"relative w-fit overflow-hidden",children:[h.jsx(b.div,{variants:r?{hidden:{opacity:0,y:75},visible:{opacity:1,y:0}}:{hidden:{opacity:0,x:75},visible:{opacity:1,x:0}},initial:"hidden",animate:a,transition:t?{duration:s,delay:.25}:{duration:s},children:e}),t?h.jsx(b.div,{variants:{hidden:{left:0},visible:{left:"100%"}},initial:"hidden",animate:c,transition:{duration:s,ease:"easeIn"},style:{position:"absolute",top:4,bottom:4,left:0,right:0,background:n,zIndex:20}}):""]})}export{B as R};
